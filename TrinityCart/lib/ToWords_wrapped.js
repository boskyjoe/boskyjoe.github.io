// ToWords_wrapped.js

(function() {
    // START OF THE MINIFIED CODE
    "use strict";var __importDefault=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ToWords=exports.DefaultToWordsOptions=exports.DefaultConverterOptions=exports.LOCALES=void 0;const locales_1=__importDefault(require("./locales"));exports.LOCALES=locales_1.default,exports.DefaultConverterOptions={currency:!1,ignoreDecimal:!1,ignoreZeroCurrency:!1,doNotAddOnly:!1},exports.DefaultToWordsOptions={localeCode:"en-IN",converterOptions:exports.DefaultConverterOptions};class ToWords{constructor(o={}){this.options={},this.locale=void 0,this.options=Object.assign({},exports.DefaultToWordsOptions,o)}getLocaleClass(){if(!(this.options.localeCode in locales_1.default))throw new Error(`Unknown Locale "${this.options.localeCode}"`);return locales_1.default[this.options.localeCode]}getLocale(){if(void 0===this.locale){const o=this.getLocaleClass();this.locale=new o}return this.locale}convert(o,n={}){var t;if(n=Object.assign({},this.options.converterOptions,n),!this.isValidNumber(o))throw new Error(`Invalid Number "${o}"`);n.ignoreDecimal&&(o=Number.parseInt(o.toString()));let e=[];return e=n.currency?this.convertCurrency(o,n):this.convertNumber(o),(null===(t=this.locale)||void 0===t?void 0:t.config.trim)?e.join(""):e.join(" ")}convertNumber(o){var n,t,e;const i=this.getLocale(),r=o<0;r&&(o=Math.abs(o));const l=o.toString().split("."),s=this.isNumberZero(o)&&i.config.ignoreZeroInDecimals;let u=this.convertInternal(Number(l[0]),!0);const a=this.isFloat(o);a&&s&&(u=[]);const c=[];if(a)if(s||c.push(i.config.texts.point),l[1].startsWith("0")&&!(null===(n=i.config)||void 0===n?void 0:n.decimalLengthWordMapping)){const o=[];for(const n of l[1])o.push(...this.convertInternal(Number(n),!0));c.push(...o)}else{c.push(...this.convertInternal(Number(l[1]),!0));const o=null===(e=null===(t=i.config)||void 0===t?void 0:t.decimalLengthWordMapping)||void 0===e?void 0:e[l[1].length];o&&c.push(o)}return!(u.length<=0)&&r&&u.unshift(i.config.texts.minus),u.push(...c),u}convertCurrency(o,n={}){var t,e,i,r;const l=this.getLocale(),s=null!==(t=n.currencyOptions)&&void 0!==t?t:l.config.currency,u=o<0;u&&(o=Math.abs(o));const a=(o=this.toFixed(o)).toString().split(".");let c=[...this.convertInternal(Number(a[0]))];1===Number(a[0])&&s.singular?c.push(s.singular):s.plural&&c.push(s.plural);const d=this.isNumberZero(o)&&(n.ignoreZeroCurrency||(null===(e=l.config)||void 0===e?void 0:e.ignoreZeroInDecimals)&&0!==o);d&&(c=[]);const p=[];if(this.isFloat(o)){d||p.push(l.config.texts.and);const o=Number(a[1])*(l.config.decimalLengthWordMapping?1:Math.pow(10,2-a[1].length));p.push(...this.convertInternal(o));const n=null===(r=null===(i=l.config)||void 0===i?void 0:i.decimalLengthWordMapping)||void 0===r?void 0:r[a[1].length];(null==n?void 0:n.length)&&p.push(n),1===o&&s.fractionalUnit.singular?p.push(s.fractionalUnit.singular):p.push(s.fractionalUnit.plural)}else l.config.decimalLengthWordMapping&&c.length&&p.push(s.fractionalUnit.plural);const h=c.length<=0&&p.length<=0;return!h&&u&&c.unshift(l.config.texts.minus),h||!l.config.texts.only||n.doNotAddOnly||l.config.onlyInFront||p.push(l.config.texts.only),p.length&&c.push(...p),h||n.doNotAddOnly||!l.config.onlyInFront||c.splice(0,0,l.config.texts.only),c}convertInternal(o,n=!1){var t,e,i,r,l,s,u,a,c,d,p,h,v;const g=this.getLocale();if(g.config.exactWordsMapping){const i=null===(e=null===(t=g.config)||void 0===t?void 0:t.exactWordsMapping)||void 0===e?void 0:e.find((n=>o===n.number));if(i)return[Array.isArray(i.value)?i.value[+n]:i.value]}const f=g.config.numberWordsMapping.find((n=>o>=n.number)),m=[];if(o<=100||o<1e3&&g.config.namedLessThan1000)return m.push(Array.isArray(f.value)?f.value[0]:f.value),(o-=f.number)>0&&((null===(r=null===(i=g.config)||void 0===i?void 0:i.splitWord)||void 0===r?void 0:r.length)&&m.push(g.config.splitWord),m.push(...this.convertInternal(o,n))),m;const b=Math.floor(o/f.number),y=o%f.number;let N=Array.isArray(f.value)?f.value[0]:f.value;return b>1&&(null===(s=null===(l=g.config)||void 0===l?void 0:l.pluralWords)||void 0===s?void 0:s.find((o=>o===f.value)))&&(null===(u=g.config)||void 0===u?void 0:u.pluralMark)&&(N+=g.config.pluralMark),b%10==1&&(N=f.singularValue||(Array.isArray(N)?N[0]:N)),1===b&&(null===(c=null===(a=g.config)||void 0===a?void 0:a.ignoreOneForWords)||void 0===c?void 0:c.includes(N))?m.push(N):m.push(...this.convertInternal(b,!1),N),y>0&&((null===(p=null===(d=g.config)||void 0===d?void 0:d.splitWord)||void 0===p?void 0:p.length)&&((null===(v=null===(h=g.config)||void 0===h?void 0:h.noSplitWordAfter)||void 0===v?void 0:v.find((o=>o===f.value)))||m.push(g.config.splitWord)),m.push(...this.convertInternal(y,n))),m}toFixed(o,n=2){return Number(Number(o).toFixed(n))}isFloat(o){return Number(o)===o&&o%1!=0}isValidNumber(o){return!isNaN(parseFloat(o))&&isFinite(o)}isNumberZero(o){return o>=0&&o<1}}exports.ToWords=ToWords;
    // END OF THE MINIFIED CODE

    // Manual Global Export: This line is crucial. It forces the class 
    // to be assigned to the window object under the correct name.
    window.ToWords = ToWords; 
})();
