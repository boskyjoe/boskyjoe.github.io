<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ShutterSync CRM</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Corrected path for style.css -->
    <link rel="stylesheet" href="css/style.css">
</head>
<body class="bg-gray-100 font-inter text-gray-800 flex flex-col min-h-screen">
    <!-- Modal Container (for dynamic modals) -->
    <div id="modalContainer"></div>

    <!-- Header -->
    <header class="bg-white shadow-lg py-4 relative z-10 header">
        <div class="container mx-auto flex justify-between items-center px-4">
            <!-- Logo or Site Title -->
            <div class="text-2xl font-bold text-indigo-700">ShutterSync CRM</div>

            <!-- Desktop Navigation (hidden on small screens) -->
            <nav class="hidden md:flex space-x-6 items-center">
                <a href="#" data-section="home-section" class="nav-link text-gray-700 hover:text-indigo-700 active:text-indigo-700 active:font-bold">Home</a>
                <a href="#" data-section="customers-section" class="nav-link text-gray-700 hover:text-indigo-700">Customers</a>
                <a href="#" data-section="opportunities-section" class="nav-link text-gray-700 hover:text-indigo-700">Opportunities</a>
                <a href="#" data-section="events-section" class="nav-link text-gray-700 hover:text-indigo-700">Events</a>

                <!-- Admin Dropdown (Desktop) -->
                <li id="desktopAdminMenu" class="relative group nav-link cursor-pointer list-none hidden">
                    <a href="#" id="desktopAdminMenuToggle" class="flex items-center text-gray-700 hover:text-indigo-700">
                        Admin
                        <svg class="w-4 h-4 ml-1 transform transition-transform duration-200 group-[.active]:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </a>
                    <ul id="desktopAdminSubMenu" class="absolute left-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-20 opacity-0 invisible group-[.active]:opacity-100 group-[.active]:visible group-[.active]:translate-y-0 transition-all duration-300 transform translate-y-2">
                        <li><a href="#" data-section="users-management-section" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">User Management</a></li>
                        <li><a href="#" data-section="currency-management-section" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Currency Management</a></li>
                        <li><a href="#" data-section="admin-country-mapping-section" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Country Mapping</a></li>
                        <li><a href="#" data-section="price-book-management-section" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-md">Price Books</a></li>
                    </ul>
                </li>
                <!-- End Admin Dropdown -->

                <button id="navGoogleLoginButton" class="btn-primary">Sign In with Google</button>
                <button id="logoutButton" class="btn-secondary hidden">Logout</button>
                <span id="userIdDisplay" class="text-sm text-gray-600 hidden"></span>
            </nav>

            <!-- Mobile Menu Button (hamburger) -->
            <div class="md:hidden flex items-center">
                <span id="mobileUserIdDisplay" class="text-sm text-gray-600 mr-4 hidden"></span>
                <button id="mobileMenuButton" class="text-gray-700 focus:outline-none">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </button>
            </div>
        </div>

        <!-- Mobile Navigation (hidden by default, toggled by JS) -->
        <nav id="mobileMenu" class="md:hidden bg-white shadow-inner pb-4">
            <div class="container mx-auto px-4 py-2 space-y-2">
                <a href="#" data-section="home-section" class="nav-link">Home</a>
                <a href="#" data-section="customers-section" class="nav-link">Customers</a>
                <a href="#" data-section="opportunities-section" class="nav-link">Opportunities</a>
                <a href="#" data-section="events-section" class="nav-link">Events</a>

                <!-- Admin Dropdown (Mobile) -->
                <div id="mobileAdminMenu" class="relative list-none hidden">
                    <a href="#" id="mobileAdminMenuToggle" class="nav-link flex items-center justify-between">
                        Admin
                        <svg class="w-4 h-4 transform transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </a>
                    <div id="mobileAdminSubMenu" class="hidden pl-4 bg-gray-50 rounded-b-md">
                        <a href="#" data-section="users-management-section" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">User Management</a>
                        <a href="#" data-section="currency-management-section" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Currency Management</a>
                        <a href="#" data-section="admin-country-mapping-section" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Country Mapping</a>
                        <a href="#" data-section="price-book-management-section" class="block px-4 py-2 text-base text-gray-700 hover:bg-gray-100 rounded-md">Price Books</a>
                    </div>
                </div>
                <!-- End Admin Dropdown -->

                <button id="mobileGoogleLoginButton" class="btn-primary w-full mt-2 hidden">Sign In with Google</button>
                <button id="mobileLogoutButton" class="btn-secondary w-full mt-2 hidden">Logout</button>
            </div>
        </nav>
    </header>

    <!-- Main Content Area -->
    <main class="flex-grow container mx-auto p-4 min-h-screen-minus-header">
        <!-- Home Section -->
        <section id="home-section" class="home-section text-center py-16 hidden">
            <h1 class="text-4xl font-extrabold text-indigo-800 mb-6">Welcome to ShutterSync CRM!</h1>
            <p class="text-xl text-gray-600 mb-8">Your all-in-one solution for managing customers, opportunities, and events.</p>
            <div id="homeSignInMessage" class="bg-blue-100 border-l-4 border-blue-500 text-blue-700 p-4 rounded-lg shadow-md mb-8" role="alert">
                <p class="font-bold">Sign In Required</p>
                <p>Please sign in with your Google account to access all CRM features.</p>
            </div>
            <button id="googleLoginButton" class="btn-primary text-lg px-8 py-3 transform transition-transform duration-200 hover:scale-105">
                <i class="fab fa-google mr-2"></i> Sign In with Google
            </button>
        </section>

        <!-- Customers Section -->
        <section id="customers-section" class="hidden">
            <h2 class="section-title">Customer Management</h2>
            <div class="card mb-8">
                <form id="customerForm" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <h3 id="customerFormTitle" class="col-span-full text-xl font-semibold text-indigo-700 mb-4">Add New Customer</h3>

                    <div class="md:col-span-1">
                        <label for="customerType" class="block text-sm font-medium text-gray-700">Customer Type<span class="text-red-500">*</span></label>
                        <select id="customerType" class="form-select mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" required>
                            <option value="Individual">Individual</option>
                            <option value="Company">Company</option>
                        </select>
                    </div>

                    <div id="customerIdDisplayGroup" class="md:col-span-1 hidden">
                        <label for="customerIdDisplay" class="block text-sm font-medium text-gray-700">Customer ID</label>
                        <p id="customerIdDisplay" class="form-input bg-gray-50 text-gray-500 cursor-not-allowed flex items-center h-full"></p>
                    </div>

                    <!-- Individual Fields -->
                    <div id="individualFields" class="md:col-span-1">
                        <label for="customerFirstName" class="block text-sm font-medium text-gray-700">First Name<span class="text-red-500">*</span></label>
                        <input type="text" id="customerFirstName" class="form-input mt-1 block w-full" required>
                    </div>
                    <div class="md:col-span-1">
                        <label for="customerLastName" class="block text-sm font-medium text-gray-700">Last Name<span class="text-red-500">*</span></label>
                        <input type="text" id="customerLastName" class="form-input mt-1 block w-full" required>
                    </div>

                    <!-- Company Name Field -->
                    <div id="companyNameField" class="md:col-span-2 hidden">
                        <label for="customerCompanyName" class="block text-sm font-medium text-gray-700">Company Name<span class="text-red-500">*</span></label>
                        <input type="text" id="customerCompanyName" class="form-input mt-1 block w-full">
                    </div>

                    <div class="md:col-span-1">
                        <label for="customerEmail" class="block text-sm font-medium text-gray-700">Email<span class="text-red-500">*</span></label>
                        <input type="email" id="customerEmail" class="form-input mt-1 block w-full" required>
                    </div>
                    <div class="md:col-span-1">
                        <label for="customerPhone" class="block text-sm font-medium text-gray-700">Phone<span class="text-red-500">*</span></label>
                        <input type="tel" id="customerPhone" class="form-input mt-1 block w-full" required>
                    </div>

                    <!-- Address Fields -->
                    <div class="md:col-span-1">
                        <label for="customerCountry" class="block text-sm font-medium text-gray-700">Country<span class="text-red-500">*</span></label>
                        <select id="customerCountry" class="form-select mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" required>
                            <option value="">Select Country</option>
                        </select>
                    </div>
                    <div class="md:col-span-1">
                        <label for="customerAddress" class="block text-sm font-medium text-gray-700">Address<span class="text-red-500">*</span></label>
                        <input type="text" id="customerAddress" class="form-input mt-1 block w-full" required>
                    </div>
                    <div class="md:col-span-1">
                        <label for="customerCity" class="block text-sm font-medium text-gray-700">City<span class="text-red-500">*</span></label>
                        <input type="text" id="customerCity" class="form-input mt-1 block w-full" required>
                    </div>
                    <div class="md:col-span-1">
                        <label for="customerState" class="block text-sm font-medium text-gray-700">State/Province<span class="text-red-500">*</span></label>
                        <select id="customerState" class="form-select mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" required disabled>
                            <option value="">Select State/Province</option>
                        </select>
                    </div>
                    <div class="md:col-span-1">
                        <label for="customerZipCode" class="block text-sm font-medium text-gray-700">Zip/Postal Code<span class="text-red-500">*</span></label>
                        <input type="text" id="customerZipCode" class="form-input mt-1 block w-full" required>
                    </div>
                    <div id="addressValidationMessage" class="md:col-span-full message error hidden"></div>

                    <!-- Industry Fields -->
                    <div id="individualIndustryGroup" class="md:col-span-1">
                        <label for="customerIndustryInput" class="block text-sm font-medium text-gray-700">Industry (Individual)<span class="text-red-500">*</span></label>
                        <input type="text" id="customerIndustryInput" class="form-input mt-1 block w-full">
                    </div>
                    <div id="companyIndustryGroup" class="md:col-span-1 hidden">
                        <label for="customerIndustrySelect" class="block text-sm font-medium text-gray-700">Industry (Company)<span class="text-red-500">*</span></label>
                        <select id="customerIndustrySelect" class="form-select mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                            <option value="">Select Industry</option>
                            <option value="Technology">Technology</option>
                            <option value="Finance">Finance</option>
                            <option value="Healthcare">Healthcare</option>
                            <option value="Retail">Retail</option>
                            <option value="Manufacturing">Manufacturing</option>
                            <option value="Education">Education</option>
                            <option value="Hospitality">Hospitality</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>


                    <div class="md:col-span-1">
                        <label for="customerSince" class="block text-sm font-medium text-gray-700">Customer Since<span class="text-red-500">*</span></label>
                        <input type="date" id="customerSince" class="form-input mt-1 block w-full" required>
                    </div>
                    <div class="md:col-span-2">
                        <label for="customerDescription" class="block text-sm font-medium text-gray-700">Description</label>
                        <textarea id="customerDescription" rows="3" class="form-textarea mt-1 block w-full"></textarea>
                    </div>

                    <div class="col-span-full flex justify-end space-x-4 mt-4">
                        <button type="button" id="resetCustomerFormButton" class="btn-secondary">Reset</button>
                        <button type="submit" id="submitCustomerButton" class="btn-primary">Add Customer</button>
                    </div>
                </form>
            </div>

            <h3 class="text-2xl font-semibold text-gray-800 mb-4">Existing Customers</h3>
            <div class="bg-white rounded-lg shadow-md overflow-hidden">
                <div class="data-grid-header">
                    <div class="px-2 py-2">Customer ID</div>
                    <div class="px-2 py-2">Name</div>
                    <div class="px-2 py-2">Email</div>
                    <div class="px-2 py-2 hidden md:block">Phone</div>
                    <div class="px-2 py-2 hidden lg:block">Address</div>
                    <div class="px-2 py-2 hidden lg:block">Industry</div>
                    <div class="px-2 py-2 hidden sm:block">Since</div>
                    <div class="px-2 py-2 text-right">Actions</div>
                </div>
                <div id="customerList" class="data-grid-body">
                    <!-- Customer rows will be dynamically inserted here by JavaScript -->
                    <p class="text-gray-500 text-center col-span-full py-4">Loading customers...</p>
                </div>
            </div>
        </section>

        <!-- Opportunities Section -->
        <section id="opportunities-section" class="hidden">
            <h2 class="section-title">Opportunity Management</h2>
            <div id="opportunity-view-container" class="flex flex-col md:flex-row gap-6">
                <!-- Left Panel: Opportunity Form & List -->
                <div id="opportunity-left-panel" class="md:w-full flex-grow">
                    <div id="opportunity-full-form-view">
                        <div class="card mb-8">
                            <form id="opportunityForm" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <h3 id="opportunityFormTitle" class="col-span-full text-xl font-semibold text-indigo-700 mb-4">Add New Opportunity</h3>

                                <div id="opportunityIdDisplayGroup" class="md:col-span-1 hidden">
                                    <label for="opportunityIdDisplay" class="block text-sm font-medium text-gray-700">Opportunity ID</label>
                                    <p id="opportunityIdDisplay" class="form-input bg-gray-50 text-gray-500 cursor-not-allowed flex items-center h-full"></p>
                                </div>
                                <div class="md:col-span-1">
                                    <label for="opportunityCustomer" class="block text-sm font-medium text-gray-700">Customer<span class="text-red-500">*</span></label>
                                    <select id="opportunityCustomer" class="form-select mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" required>
                                        <option value="">Select Customer</option>
                                    </select>
                                </div>
                                <div class="md:col-span-1">
                                    <label for="opportunityName" class="block text-sm font-medium text-gray-700">Opportunity Name<span class="text-red-500">*</span></label>
                                    <input type="text" id="opportunityName" class="form-input mt-1 block w-full" required>
                                </div>
                                <div class="md:col-span-1 relative">
                                    <label for="opportunityAmount" class="block text-sm font-medium text-gray-700">Amount<span class="text-red-500">*</span></label>
                                    <div class="mt-1 flex rounded-md shadow-sm">
                                        <span id="currencySymbolDisplay" class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-sm">$</span>
                                        <input type="number" id="opportunityAmount" class="form-input flex-1 block w-full rounded-none rounded-r-md" placeholder="0.00" step="0.01" min="0" required>
                                    </div>
                                </div>
                                <div class="md:col-span-1">
                                    <label for="opportunityCurrency" class="block text-sm font-medium text-gray-700">Currency<span class="text-red-500">*</span></label>
                                    <select id="opportunityCurrency" class="form-select mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" required>
                                        <option value="">Select Currency</option>
                                    </select>
                                </div>
                                <div class="md:col-span-1">
                                    <label for="opportunityStage" class="block text-sm font-medium text-gray-700">Stage<span class="text-red-500">*</span></label>
                                    <select id="opportunityStage" class="form-select mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" required>
                                        <option value="New">New</option>
                                        <option value="Qualification">Qualification</option>
                                        <option value="Proposal">Proposal</option>
                                        <option value="Negotiation">Negotiation</option>
                                        <option value="Closed Won">Closed Won</option>
                                        <option value="Closed Lost">Closed Lost</option>
                                    </select>
                                </div>
                                <div class="md:col-span-1">
                                    <label for="opportunityExpectedStartDate" class="block text-sm font-medium text-gray-700">Expected Start Date<span class="text-red-500">*</span></label>
                                    <input type="date" id="opportunityExpectedStartDate" class="form-input mt-1 block w-full" required>
                                    </div>
                                <div class="md:col-span-1">
                                    <label for="opportunityExpectedCloseDate" class="block text-sm font-medium text-gray-700">Expected Close Date<span class="text-red-500">*</span></label>
                                    <input type="date" id="opportunityExpectedCloseDate" class="form-input mt-1 block w-full" required>
                                </div>
                                <div class="md:col-span-1">
                                    <label for="opportunityEventType" class="block text-sm font-medium text-gray-700">Event Type<span class="text-red-500">*</span></label>
                                    <select id="opportunityEventType" class="form-select mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" required>
                                        <option value="">Select Type</option>
                                        <option value="Wedding">Wedding</option>
                                        <option value="Corporate">Corporate Event</option>
                                        <option value="Portrait">Portrait Session</option>
                                        <option value="Product">Product Shoot</option>
                                        <option value="Other">Other</option>
                                    </select>
                                </div>
                                <div class="md:col-span-1">
                                    <label for="opportunityEventLocationProposed" class="block text-sm font-medium text-gray-700">Proposed Event Location<span class="text-red-500">*</span></label>
                                    <input type="text" id="opportunityEventLocationProposed" class="form-input mt-1 block w-full" required>
                                </div>
                                <div class="md:col-span-2">
                                    <label for="opportunityServiceAddress" class="block text-sm font-medium text-gray-700">Service Address<span class="text-red-500">*</span></label>
                                    <textarea id="opportunityServiceAddress" rows="2" class="form-textarea mt-1 block w-full" required placeholder="Auto-filled from customer or manually enter"></textarea>
                                </div>
                                <div class="md:col-span-2">
                                    <label for="opportunityDescription" class="block text-sm font-medium text-gray-700">Description<span class="text-red-500">*</span></label>
                                    <textarea id="opportunityDescription" rows="3" class="form-textarea mt-1 block w-full" required></textarea>
                                </div>
                                <div class="md:col-span-2">
                                    <label for="opportunityData" class="block text-sm font-medium text-gray-700">Additional Data (JSON)</label>
                                    <textarea id="opportunityData" rows="4" class="form-textarea mt-1 block w-full" placeholder='{"key": "value"}'></textarea>
                                    <p class="mt-2 text-sm text-gray-500">Enter additional data as a valid JSON object.</p>
                                </div>

                                <div class="col-span-full flex justify-end space-x-4 mt-4">
                                    <button type="button" id="resetOpportunityFormButton" class="btn-secondary">Reset</button>
                                    <button type="submit" id="submitOpportunityButton" class="btn-primary">Add Opportunity</button>
                                </div>
                            </form>
                        </div>
                    </div>

                    <div id="opportunity-existing-list-view">
                        <h3 class="text-2xl font-semibold text-gray-800 mb-4">Existing Opportunities</h3>
                        <div class="bg-white rounded-lg shadow-md overflow-hidden">
                            <div class="data-grid-header">
                                <div class="px-2 py-2">Opportunity ID</div>
                                <div class="px-2 py-2">Name</div>
                                <div class="px-2 py-2">Customer</div>
                                <div class="px-2 py-2">Amount</div>
                                <div class="px-2 py-2">Stage</div>
                                <div class="px-2 py-2 hidden sm:block">Start Date</div>
                                <div class="px-2 py-2 hidden md:block">Close Date</div>
                                <div class="px-2 py-2 hidden lg:block">Event Type</div>
                                <div class="px-2 py-2 text-right">Actions</div>
                            </div>
                            <div id="opportunityList" class="data-grid-body">
                                <!-- Opportunity rows will be dynamically inserted here by JavaScript -->
                                <p class="text-gray-500 text-center col-span-full py-4">Loading opportunities...</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Right Panel: Linked Objects Accordion (Contacts, Lines, Quotes) -->
                <div id="opportunity-right-panel" class="md:w-3/10 flex-shrink-0 hidden-panel">
                    <div id="linkedObjectsAccordion" class="hidden space-y-4">
                        <!-- Contacts Accordion -->
                        <div class="accordion-item">
                            <button id="contactsAccordionHeader" class="accordion-header">
                                Opportunity Contacts
                                <svg class="accordion-icon w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                            </button>
                            <div id="contactsAccordionContent" class="accordion-content">
                                <form id="opportunityContactForm" class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                                    <h4 class="col-span-full text-md font-semibold text-gray-700">Add/Edit Contact</h4>
                                    <div id="contactIdDisplayGroup" class="md:col-span-1 hidden">
                                        <label for="contactIdDisplay" class="block text-sm font-medium text-gray-700">Contact ID</label>
                                        <p id="contactIdDisplay" class="form-input bg-gray-50 text-gray-500 cursor-not-allowed flex items-center h-full"></p>
                                    </div>
                                    <div class="md:col-span-1">
                                        <label for="contactFirstName" class="block text-sm font-medium text-gray-700">First Name<span class="text-red-500">*</span></label>
                                        <input type="text" id="contactFirstName" class="form-input mt-1 block w-full" required>
                                    </div>
                                    <div class="md:col-span-1">
                                        <label for="contactLastName" class="block text-sm font-medium text-gray-700">Last Name<span class="text-red-500">*</span></label>
                                        <input type="text" id="contactLastName" class="form-input mt-1 block w-full" required>
                                    </div>
                                    <div class="md:col-span-1">
                                        <label for="contactEmail" class="block text-sm font-medium text-gray-700">Email<span class="text-red-500">*</span></label>
                                        <input type="email" id="contactEmail" class="form-input mt-1 block w-full" required>
                                    </div>
                                    <div class="md:col-span-1">
                                        <label for="contactPhone" class="block text-sm font-medium text-gray-700">Phone<span class="text-red-500">*</span></label>
                                        <input type="tel" id="contactPhone" class="form-input mt-1 block w-full" required>
                                    </div>
                                    <div class="md:col-span-1">
                                        <label for="contactRole" class="block text-sm font-medium text-gray-700">Role<span class="text-red-500">*</span></label>
                                        <input type="text" id="contactRole" class="form-input mt-1 block w-full" required>
                                    </div>
                                    <div class="col-span-full flex justify-end space-x-2 mt-2">
                                        <button type="button" id="resetOpportunityContactFormButton" class="btn-secondary px-3 py-1 text-sm">Reset</button>
                                        <button type="submit" id="submitOpportunityContactButton" class="btn-primary px-3 py-1 text-sm">Add Contact</button>
                                    </div>
                                </form>

                                <h4 class="text-lg font-semibold text-gray-700 mb-2">Existing Contacts</h4>
                                <div class="bg-gray-50 rounded-md shadow-sm overflow-hidden">
                                    <div class="data-grid-header">
                                        <div class="px-2 py-1">Contact ID</div>
                                        <div class="px-2 py-1">Name</div>
                                        <div class="px-2 py-1">Email</div>
                                        <div class="px-2 py-1 hidden sm:block">Phone</div>
                                        <div class="px-2 py-1 hidden md:block">Role</div>
                                        <div class="px-2 py-1 text-right">Actions</div>
                                    </div>
                                    <div id="opportunityContactList" class="data-grid-body">
                                        <p class="text-gray-500 text-center col-span-full py-4">No contacts added for this opportunity.</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Lines Accordion -->
                        <div class="accordion-item">
                            <button id="linesAccordionHeader" class="accordion-header">
                                Opportunity Lines
                                <svg class="accordion-icon w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                            </button>
                            <div id="linesAccordionContent" class="accordion-content">
                                <form id="opportunityLineForm" class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                                    <h4 class="col-span-full text-md font-semibold text-gray-700">Add/Edit Opportunity Line</h4>
                                    <div id="optyLineIdDisplayGroup" class="md:col-span-1 hidden">
                                        <label for="optyLineIdDisplay" class="block text-sm font-medium text-gray-700">Line ID</label>
                                        <p id="optyLineIdDisplay" class="form-input bg-gray-50 text-gray-500 cursor-not-allowed flex items-center h-full"></p>
                                    </div>
                                    <div class="md:col-span-1">
                                        <label for="lineServiceDescription" class="block text-sm font-medium text-gray-700">Service Description<span class="text-red-500">*</span></label>
                                        <input type="text" id="lineServiceDescription" class="form-input mt-1 block w-full" required>
                                    </div>
                                    <div class="md:col-span-1">
                                        <label for="lineUnitPrice" class="block text-sm font-medium text-gray-700">Unit Price<span class="text-red-500">*</span></label>
                                        <input type="number" id="lineUnitPrice" class="form-input mt-1 block w-full" step="0.01" min="0" required>
                                    </div>
                                    <div class="md:col-span-1">
                                        <label for="lineQuantity" class="block text-sm font-medium text-gray-700">Quantity<span class="text-red-500">*</span></label>
                                        <input type="number" id="lineQuantity" class="form-input mt-1 block w-full" min="1" required>
                                    </div>
                                    <div class="md:col-span-1">
                                        <label for="lineDiscount" class="block text-sm font-medium text-gray-700">Discount (%)</label>
                                        <input type="number" id="lineDiscount" class="form-input mt-1 block w-full" step="0.01" min="0" max="100" value="0">
                                    </div>
                                    <div class="md:col-span-1">
                                        <label for="lineNetPrice" class="block text-sm font-medium text-gray-700">Net Price</label>
                                        <input type="text" id="lineNetPrice" class="form-input mt-1 block w-full bg-gray-50 text-gray-500 cursor-not-allowed" readonly>
                                    </div>
                                    <div class="md:col-span-1">
                                        <label for="lineStatus" class="block text-sm font-medium text-gray-700">Status<span class="text-red-500">*</span></label>
                                        <select id="lineStatus" class="form-select mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" required>
                                            <option value="New">New</option>
                                            <option value="Confirmed">Confirmed</option>
                                            <option value="Delivered">Delivered</option>
                                            <option value="Canceled">Canceled</option>
                                        </select>
                                    </div>
                                    <div class="col-span-full flex justify-end space-x-2 mt-2">
                                        <button type="button" id="resetOpportunityLineFormButton" class="btn-secondary px-3 py-1 text-sm">Reset</button>
                                        <button type="submit" id="submitOpportunityLineButton" class="btn-primary px-3 py-1 text-sm">Add Line</button>
                                    </div>
                                </form>
                                <h4 class="text-lg font-semibold text-gray-700 mb-2">Existing Lines</h4>
                                <div class="bg-gray-50 rounded-md shadow-sm overflow-hidden">
                                    <div class="data-grid-header">
                                        <div class="px-2 py-1">Line ID</div>
                                        <div class="px-2 py-1">Description</div>
                                        <div class="px-2 py-1">Unit Price</div>
                                        <div class="px-2 py-1">Quantity</div>
                                        <div class="px-2 py-1">Discount</div>
                                        <div class="px-2 py-1">Net Price</div>
                                        <div class="px-2 py-1 text-right">Actions</div>
                                    </div>
                                    <div id="opportunityLineList" class="data-grid-body">
                                        <p class="text-gray-500 text-center col-span-full py-4">No opportunity lines added for this opportunity.</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Quotes Accordion -->
                        <div class="accordion-item">
                            <button id="quotesAccordionHeader" class="accordion-header">
                                Quotes
                                <svg class="accordion-icon w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                            </button>
                            <div id="quotesAccordionContent" class="accordion-content">
                                <form id="quoteForm" class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                                    <h4 class="col-span-full text-md font-semibold text-gray-700">Add/Edit Quote</h4>
                                    <div id="quoteIdDisplayGroup" class="md:col-span-1 hidden">
                                        <label for="quoteIdDisplay" class="block text-sm font-medium text-gray-700">Quote ID</label>
                                        <p id="quoteIdDisplay" class="form-input bg-gray-50 text-gray-500 cursor-not-allowed flex items-center h-full"></p>
                                    </div>
                                    <div class="md:col-span-1">
                                        <label for="quoteName" class="block text-sm font-medium text-gray-700">Quote Name<span class="text-red-500">*</span></label>
                                        <input type="text" id="quoteName" class="form-input mt-1 block w-full" required>
                                    </div>
                                    <div class="md:col-span-1">
                                        <label for="quoteDescription" class="block text-sm font-medium text-gray-700">Description</label>
                                        <textarea id="quoteDescription" rows="2" class="form-textarea mt-1 block w-full"></textarea>
                                    </div>
                                    <div class="md:col-span-1">
                                        <label for="quoteCustomer" class="block text-sm font-medium text-gray-700">Customer</label>
                                        <select id="quoteCustomer" class="form-select mt-1 block w-full rounded-md border-gray-300 shadow-sm bg-gray-50 cursor-not-allowed" disabled>
                                            <option value="">Auto-filled from Opportunity</option>
                                        </select>
                                    </div>
                                    <div class="md:col-span-1">
                                        <label for="quoteStartDate" class="block text-sm font-medium text-gray-700">Start Date<span class="text-red-500">*</span></label>
                                        <input type="date" id="quoteStartDate" class="form-input mt-1 block w-full" required>
                                    </div>
                                    <div class="md:col-span-1">
                                        <label for="quoteExpireDate" class="block text-sm font-medium text-gray-700">Expire Date<span class="text-red-500">*</span></label>
                                        <input type="date" id="quoteExpireDate" class="form-input mt-1 block w-full" required>
                                    </div>
                                    <div class="md:col-span-1">
                                        <label for="quoteStatus" class="block text-sm font-medium text-gray-700">Status<span class="text-red-500">*</span></label>
                                        <select id="quoteStatus" class="form-select mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" required>
                                            <option value="Draft">Draft</option>
                                            <option value="Sent">Sent</option>
                                            <option value="Accepted">Accepted</option>
                                            <option value="Rejected">Rejected</option>
                                        </select>
                                    </div>
                                    <div class="md:col-span-1">
                                        <label for="quoteNetListAmount" class="block text-sm font-medium text-gray-700">Net List Amount</label>
                                        <input type="number" id="quoteNetListAmount" class="form-input mt-1 block w-full" step="0.01" min="0" value="0">
                                    </div>
                                    <div class="md:col-span-1">
                                        <label for="quoteNetDiscount" class="block text-sm font-medium text-gray-700">Net Discount</label>
                                        <input type="number" id="quoteNetDiscount" class="form-input mt-1 block w-full" step="0.01" min="0" value="0">
                                    </div>
                                    <div class="md:col-span-1">
                                        <label for="quoteNetAmount" class="block text-sm font-medium text-gray-700">Net Amount</label>
                                        <input type="text" id="quoteNetAmount" class="form-input mt-1 block w-full bg-gray-50 text-gray-500 cursor-not-allowed" readonly>
                                    </div>
                                    <div class="md:col-span-1">
                                        <label for="quoteCurrency" class="block text-sm font-medium text-gray-700">Currency<span class="text-red-500">*</span></label>
                                        <select id="quoteCurrency" class="form-select mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" required>
                                            <option value="">Select Currency</option>
                                        </select>
                                    </div>
                                    <div class="md:col-span-1 flex items-center mt-6">
                                        <input type="checkbox" id="quoteIsFinal" class="h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500">
                                        <label for="quoteIsFinal" class="ml-2 block text-sm font-medium text-gray-700">Is Final?</label>
                                    </div>
                                    <div class="col-span-full flex justify-end space-x-2 mt-2">
                                        <button type="button" id="resetQuoteFormButton" class="btn-secondary px-3 py-1 text-sm">Reset</button>
                                        <button type="submit" id="submitQuoteButton" class="btn-primary px-3 py-1 text-sm">Add Quote</button>
                                    </div>
                                </form>
                                <h4 class="text-lg font-semibold text-gray-700 mb-2">Existing Quotes</h4>
                                <div class="bg-gray-50 rounded-md shadow-sm overflow-hidden">
                                    <div class="data-grid-header">
                                        <div class="px-2 py-1">Quote ID</div>
                                        <div class="px-2 py-1">Name</div>
                                        <div class="px-2 py-1">Status</div>
                                        <div class="px-2 py-1">Net Amount</div>
                                        <div class="px-2 py-1 hidden sm:block">Expire Date</div>
                                        <div class="px-2 py-1 text-right">Actions</div>
                                    </div>
                                    <div id="quoteList" class="data-grid-body">
                                        <p class="text-gray-500 text-center col-span-full py-4">No quotes added for this opportunity.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Events Section -->
        <section id="events-section" class="hidden">
            <h2 class="section-title">Event Management</h2>
            <div class="card">
                <p class="text-gray-600">This section will be used for managing events.</p>
                <div class="mt-4 p-4 bg-yellow-50 border-l-4 border-yellow-400 text-yellow-700 rounded-lg">
                    <p class="font-bold">Coming Soon!</p>
                    <p>Event management features are under development.</p>
                </div>
            </div>
        </section>

        <!-- Admin - User Management Section -->
        <section id="users-management-section" class="hidden">
            <h2 class="section-title">User Management (Admin)</h2>
            <div class="card mb-8">
                <form id="userForm" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <h3 id="userFormTitle" class="col-span-full text-xl font-semibold text-indigo-700 mb-4">Add New User Profile</h3>

                    <div id="userIdDisplayGroup" class="md:col-span-1">
                        <label for="userIdDisplayInput" class="block text-sm font-medium text-gray-700">Firebase User ID (UID)<span class="text-red-500">*</span></label>
                        <input type="text" id="userIdDisplayInput" class="form-input mt-1 block w-full" required placeholder="User's unique Firebase UID">
                        <p class="mt-1 text-xs text-gray-500">Provide the UID of a user already created in Firebase Authentication.</p>
                    </div>
                    <div class="md:col-span-1">
                        <label for="userName" class="block text-sm font-medium text-gray-700">User Name (Gmail)<span class="text-red-500">*</span></label>
                        <input type="email" id="userName" class="form-input mt-1 block w-full" required placeholder="user@gmail.com">
                        <p class="mt-1 text-xs text-gray-500">Must be a valid Gmail address.</p>
                    </div>
                    <div class="md:col-span-1">
                        <label for="userFirstName" class="block text-sm font-medium text-gray-700">First Name<span class="text-red-500">*</span></label>
                        <input type="text" id="userFirstName" class="form-input mt-1 block w-full" required>
                    </div>
                    <div class="md:col-span-1">
                        <label for="userLastName" class="block text-sm font-medium text-gray-700">Last Name<span class="text-red-500">*</span></label>
                        <input type="text" id="userLastName" class="form-input mt-1 block w-full" required>
                    </div>
                    <div class="md:col-span-1">
                        <label for="userEmail" class="block text-sm font-medium text-gray-700">Contact Email<span class="text-red-500">*</span></label>
                        <input type="email" id="userEmail" class="form-input mt-1 block w-full" required>
                    </div>
                    <div class="md:col-span-1">
                        <label for="userPhone" class="block text-sm font-medium text-gray-700">Phone<span class="text-red-500">*</span></label>
                        <input type="tel" id="userPhone" class="form-input mt-1 block w-full" required>
                    </div>
                    <div class="md:col-span-1">
                        <label for="userRole" class="block text-sm font-medium text-gray-700">Role<span class="text-red-500">*</span></label>
                        <select id="userRole" class="form-select mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" required>
                            <option value="User">User</option>
                            <option value="Admin">Admin</option>
                        </select>
                    </div>
                    <div class="md:col-span-2">
                        <label for="userSkills" class="block text-sm font-medium text-gray-700">Skills (comma-separated)<span class="text-red-500">*</span></label>
                        <textarea id="userSkills" rows="2" class="form-textarea mt-1 block w-full" placeholder="e.g., Photography, Editing, Marketing, Sales" required></textarea>
                    </div>

                    <div class="col-span-full flex justify-end space-x-4 mt-4">
                        <button type="button" id="resetUserFormButton" class="btn-secondary">Reset</button>
                        <button type="submit" id="submitUserButton" class="btn-primary">Create User Profile</button>
                    </div>
                </form>
            </div>

            <h3 class="text-2xl font-semibold text-gray-800 mb-4">Existing Users</h3>
            <div class="bg-white rounded-lg shadow-md overflow-hidden">
                <div class="data-grid-header">
                    <div class="px-2 py-2">Firebase UID</div>
                    <div class="px-2 py-2">User Name (Email)</div>
                    <div class="px-2 py-2">Contact Email</div>
                    <div class="px-2 py-2 hidden sm:block">Role</div>
                    <div class="px-2 py-2 hidden md:block">Skills</div>
                    <div class="px-2 py-2 text-right">Actions</div>
                </div>
                <div id="userList" class="data-grid-body">
                    <!-- User rows will be dynamically inserted here by JavaScript -->
                    <p class="text-gray-500 text-center col-span-full py-4">Loading users...</p>
                </div>
            </div>
        </section>

        <!-- Admin - Currency Management Section -->
        <section id="currency-management-section" class="hidden">
            <h2 class="section-title">Currency Management (Admin)</h2>
            <div class="card mb-8">
                <form id="currencyForm" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <h3 id="currencyFormTitle" class="col-span-full text-xl font-semibold text-indigo-700 mb-4">Add New Currency</h3>

                    <div id="currencyCodeDisplayGroup" class="md:col-span-1 hidden">
                        <label for="currencyCodeDisplay" class="block text-sm font-medium text-gray-700">Currency Code</label>
                        <p id="currencyCodeDisplay" class="form-input bg-gray-50 text-gray-500 cursor-not-allowed flex items-center h-full"></p>
                    </div>

                    <div class="col-span-full">
                        <label for="adminCurrenciesInput" class="block text-sm font-medium text-gray-700">Currency Data (CSV Format)<span class="text-red-500">*</span></label>
                        <textarea id="adminCurrenciesInput" rows="5" class="form-textarea mt-1 block w-full" required placeholder="Example:
USD,US Dollar,$,$
EUR,Euro,,
GBP,British Pound,,"></textarea>
                        <p class="mt-1 text-xs text-gray-500">Enter one currency per line in CSV format: `Code,Name,Symbol,Native_Symbol`</p>
                    </div>

                    <div id="adminCurrencyMessageDiv" class="col-span-full message hidden"></div>

                    <div class="col-span-full flex justify-end space-x-4 mt-4">
                        <button type="button" id="resetCurrencyFormButton" class="btn-secondary">Reset</button>
                        <button type="submit" id="submitCurrencyButton" class="btn-primary">Upload Currencies to Firestore</button>
                    </div>
                </form>
            </div>

            <h3 class="text-2xl font-semibold text-gray-800 mb-4">Existing Currencies</h3>
            <div class="bg-white rounded-lg shadow-md overflow-hidden">
                <div class="data-grid-header">
                    <div class="px-2 py-2">Code</div>
                    <div class="px-2 py-2">Name</div>
                    <div class="px-2 py-2">Symbol</div>
                    <div class="px-2 py-2">Native Symbol</div>
                    <div class="px-2 py-2 text-right">Actions</div>
                </div>
                <div id="currencyList" class="data-grid-body">
                    <!-- Currency rows will be dynamically inserted here by JavaScript -->
                    <p class="text-gray-500 text-center col-span-full py-4">Loading currencies...</p>
                </div>
            </div>
        </section>
        
        <!-- Price Book Management Section -->
        <section id="price-book-management-section" class="hidden container mx-auto px-4 py-8">
            <h2 class="text-3xl font-bold text-gray-800 mb-6">Price Book Management</h2>
        
            <div class="bg-white p-6 rounded-lg shadow-md mb-8">
                <h3 id="priceBookFormTitle" class="text-xl font-semibold text-gray-700 mb-4">Add New Price Book</h3>
                <form id="priceBookForm" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div id="priceBookIdDisplayGroup" class="mb-4 hidden">
                        <label for="priceBookIdDisplay" class="block text-sm font-medium text-gray-700">Price Book ID</label>
                        <input type="text" id="priceBookIdDisplay" readonly class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 bg-gray-100">
                    </div>
        
                    <div class="mb-4">
                        <label for="priceBookName" class="block text-sm font-medium text-gray-700">Price Book Name <span class="text-red-500">*</span></label>
                        <input type="text" id="priceBookName" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 px-3 py-2">
                    </div>
        
                    <div class="mb-4">
                        <label for="priceBookCurrency" class="block text-sm font-medium text-gray-700">Currency <span class="text-red-500">*</span></label>
                        <select id="priceBookCurrency" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 px-3 py-2 bg-white">
                            <option value="">Select Currency</option>
                            <!-- Currencies will be populated by JavaScript -->
                        </select>
                    </div>
        
                    <div class="md:col-span-2 flex justify-end space-x-3">
                        <button type="submit" id="submitPriceBookButton" class="px-5 py-2 bg-blue-600 text-white font-semibold rounded-md shadow hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-75 transition ease-in-out duration-150" disabled>
                            Add Price Book
                        </button>
                        <button type="button" id="resetPriceBookFormButton" class="px-5 py-2 bg-gray-300 text-gray-800 font-semibold rounded-md shadow hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-75 transition ease-in-out duration-150">
                            Reset Form
                        </button>
                    </div>
                </form>
                <div id="adminPriceBookMessageDiv" class="message hidden mt-4 p-3 rounded-md text-sm"></div>
            </div>
        
            <div class="bg-white p-6 rounded-lg shadow-md">
                <h3 class="text-xl font-semibold text-gray-700 mb-4">Existing Price Books</h3>
                <div class="data-grid">
                    <div class="data-grid-header">
                        <div class="px-2 py-1 font-bold text-gray-700">ID</div>
                        <div class="px-2 py-1 font-bold text-gray-700">Name</div>
                        <div class="px-2 py-1 font-bold text-gray-700">Currency</div>
                        <div class="px-2 py-1 font-bold text-gray-700 text-center">Actions</div>
                    </div>
                    <div id="priceBookList" class="data-grid-body">
                        <!-- Price Books will be loaded here by JavaScript -->
                        <p class="text-gray-500 text-center col-span-full py-4">No price books found.</p>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Admin - Country Mapping Section -->
        <section id="admin-country-mapping-section" class="hidden">
            <h2 class="section-title">Country & State Mapping (Admin)</h2>
            <div class="card mb-8">
                <form id="countryMappingForm" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <h3 class="col-span-full text-xl font-semibold text-indigo-700 mb-4">Upload Country and State Data</h3>

                    <div class="col-span-full">
                        <label class="inline-flex items-center">
                            <input type="radio" name="loadType" id="fullLoad" value="full" class="form-radio text-indigo-600" checked>
                            <span class="ml-2 text-sm font-medium text-gray-700">Full Load (overwrites existing data for countries/states provided)</span>
                        </label>
                        <label class="inline-flex items-center ml-6">
                            <input type="radio" name="loadType" id="incrementalLoad" value="incremental" class="form-radio text-indigo-600">
                            <span class="ml-2 text-sm font-medium text-gray-700">Incremental Load (merges with existing data)</span>
                        </label>
                        <p class="mt-2 text-xs text-gray-500">Choose how to update data. Full Load replaces, Incremental adds/updates.</p>
                    </div>

                    <div>
                        <label for="adminCountriesInput" class="block text-sm font-medium text-gray-700">Countries (CSV: Name,Code)<span class="text-red-500">*</span></label>
                        <textarea id="adminCountriesInput" rows="10" class="form-textarea mt-1 block w-full" placeholder="Example:&#10;United States,US&#10;Canada,CA&#10;Mexico,MX" required></textarea>
                        <p class="mt-1 text-xs text-gray-500">Enter one country per line: `Country Name,Two-letter Code`</p>
                    </div>

                    <div>
                        <label for="adminCountryStateMapInput" class="block text-sm font-medium text-gray-700">Country-State Mapping (CSV: Code:State1,State2)<span class="text-red-500">*</span></label>
                        <textarea id="adminCountryStateMapInput" rows="10" class="form-textarea mt-1 block w-full" placeholder="Example:&#10;US:AL,AK,AZ,AR,CA&#10;CA:AB,BC,MB,NB,NL&#10;MX:AGS,BC,BCS,CAM,CHP"></textarea>
                        <p class="mt-1 text-xs text-gray-500">Enter one country's states per line: `Code:State1,State2,State3`</p>
                    </div>

                    <div id="adminMessage" class="col-span-full message hidden"></div>

                    <div class="col-span-full flex justify-end space-x-4 mt-4">
                        <button type="button" id="resetAdminDataFormButton" class="btn-secondary">Reset</button>
                        <button type="submit" id="uploadAdminDataButton" class="btn-primary">Upload Data to Firestore</button>
                    </div>
                </form>
            </div>
        </section>

        <!-- Auth Section (Can be used for standard email/password login, but currently hidden) -->
        <section id="auth-section" class="hidden">
            <h2 class="section-title">Authentication</h2>
            <div class="card">
                <p>This section is for traditional email/password authentication. For now, please use the Google Sign-In option in the navigation bar.</p>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-4 mt-8">
        <div class="container mx-auto text-center text-sm">
            &copy; 2024 ShutterSync CRM. All rights reserved.
        </div>
    </footer>

    <!-- Firebase SDK (already included via CDN in main.js, this is commented out to prevent double-loading) -->
    <!-- <script type="module">
        // Firebase is now initialized and used directly in main.js and other modules
        // Ensure that your firebaseConfig is correctly defined and imported/exported as needed
    </script> -->
    <script type="module" src="js/main.js"></script>
</body>
</html>
